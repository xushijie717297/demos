<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<script>
// Object.groupBy(items, callbackFn)
// 参数
// items：一个将进行元素分组的可迭代对象
// callbackFn：对可迭代对象中的每个元素执行的函数。它应该返回一个值，可以被强制转换成属性键（字符串或 symbol），用于指示当前元素所属的分组。该函数被调用时将传入以下参数：
// element：数组中当前正在处理的元素
// index：正在处理的元素在数组中的索引
// 返回值
// 一个带有所有分组属性的 null 原型对象，每个属性都分配了一个包含相关组元素的数组。
//例子1

const arr = [
  { product: "iPhone X", quantity: 25, color: "black" },
  { product: "Huawei mate50", quantity: 6, color: "white" },
  { product: "xiaomi 13", quantity: 0, color: "black" },
  { product: "iPhone 13", quantity: 10, color: "white" },
  { product: "Huawei P50", quantity: 5, color: "black" },
]
const newArr = Object.groupBy(arr, (item) => item.color)

console.log('【newArr】', newArr)

//例子2
const arr1 = [
  { product: "iPhone X", quantity: 25, color: "black" },
  { product: "Huawei mate50", quantity: 6, color: "white" },
  { product: "xiaomi 13", quantity: 0, color: "black" },
  { product: "iPhone 13", quantity: 10, color: "white" },
  { product: "Huawei P50", quantity: 5, color: "black" },
]

const list = Object.groupBy(arr1, (item) => {
  return item.product.includes('iPhone') ? 'iPhone' : '国产品牌'
})

console.log('【list】', list)



// 交集运算符
// 交集运算符可以匹配两个字符集中必须存在的字符。
// 其语法为[operand-one&&operand-two]，其中&&表示交集运算符，  
// operand-one和operand-two表示各自的字符集。

const str = 'My name is nanjiu'

const strReg = /[[a-z]&&[^aeiou]]/gv
const strArr = str.match(strReg)
console.log('【strArr】', strArr)

// 【strArr】 ['y', 'n', 'm', 's', 'n', 'n', 'j']
// [a-z]上面的代码定义了一个匹配小写字母和非元音字符的交集的正则表达式[^aeiuo]。
// 运算&&符确保仅匹配两个集合共有的字符。
// 这些gv标志启用全局搜索（查找所有匹配项）和正则表达式 v 模式。
let myEmojis = "😁,😍,😴,☉‿⊙,:O";

let myRegex = /[\p{Emoji}--\p{ASCII}]/gv;
console.log(myEmojis.match(myRegex));

// ["😁","😍","😴"]

// 通过复制改变数组引入了四种新的非改变数组方法：toReversed()、toSpliced()、toSorted()和with()

// 前三个在功能上等同于它们的相似方法：reverse()、splice()和sort()。

// 它们与对应方法的功能相似，区别在于新增的三个方法不会改变原数组

// with()是第四个新的数组方法。它允许我们替换数组中特定位置的元素，同样不会改变原数组
const groupList = [1, 2, 3, 4, 5, 6] 

const newGroupList = groupList.with(2, 'nanjiu')
console.log('【newGroupList】', newGroupList)
console.log('【groupList】', groupList)


</script>
</body>
</html>